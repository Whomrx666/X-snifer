# Obfuscated by Mr.X
# dont recode this kids:V
import base64
exec(base64.b64decode('IyBUaGlzIHByb2dyYW0gd2FzIGNyZWF0ZWQgYnkgTXIuWAoKaW1wb3J0IHJlcXVlc3RzCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCB1cmxwYXJzZSwgdXJsam9pbgpmcm9tIGNvbG9yYW1hIGltcG9ydCBpbml0LCBGb3JlLCBTdHlsZQoKaW5pdChhdXRvcmVzZXQ9VHJ1ZSkKCmRlZiBnZXRfcGF0aHNfaHRtbCh1cmwpOgogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHVybCwgdGltZW91dD0xMCkKICAgICAgICByZXNwb25zZS5yYWlzZV9mb3Jfc3RhdHVzKCkKICAgICAgICBzb3VwID0gQmVhdXRpZnVsU291cChyZXNwb25zZS5jb250ZW50LCAnaHRtbC5wYXJzZXInKQogICAgICAgIHBhdGhzID0gc2V0KCkKCiAgICAgICAgZm9yIGxpbmsgaW4gc291cC5maW5kX2FsbCgnYScsIGhyZWY9VHJ1ZSk6CiAgICAgICAgICAgIGhyZWYgPSBsaW5rWydocmVmJ10KICAgICAgICAgICAgZnVsbF91cmwgPSB1cmxqb2luKHVybCwgaHJlZikKICAgICAgICAgICAgcGFyc2VkX3VybCA9IHVybHBhcnNlKGZ1bGxfdXJsKQoKICAgICAgICAgICAgaWYgcGFyc2VkX3VybC5uZXRsb2MgPT0gdXJscGFyc2UodXJsKS5uZXRsb2M6CiAgICAgICAgICAgICAgICBwYXRocy5hZGQocGFyc2VkX3VybC5wYXRoKQoKICAgICAgICByZXR1cm4gcGF0aHMKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChGb3JlLlJFRCArIGYiRXJyb3IgZmV0Y2hpbmcgSFRNTCBwYXRoczoge2V9IikKICAgICAgICByZXR1cm4gc2V0KCkKCmRlZiBnZXRfcGF0aHNfc2l0ZW1hcCh1cmwpOgogICAgc2l0ZW1hcF91cmwgPSB1cmxqb2luKHVybCwgJy9zaXRlbWFwLnhtbCcpCiAgICB0cnk6CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoc2l0ZW1hcF91cmwsIHRpbWVvdXQ9MTApCiAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpCiAgICAgICAgc291cCA9IEJlYXV0aWZ1bFNvdXAocmVzcG9uc2UuY29udGVudCwgJ3htbCcpCiAgICAgICAgcGF0aHMgPSBzZXQoKQoKICAgICAgICBmb3IgbG9jIGluIHNvdXAuZmluZF9hbGwoJ2xvYycpOgogICAgICAgICAgICBmdWxsX3VybCA9IGxvYy50ZXh0CiAgICAgICAgICAgIHBhcnNlZF91cmwgPSB1cmxwYXJzZShmdWxsX3VybCkKICAgICAgICAgICAgcGF0aHMuYWRkKHBhcnNlZF91cmwucGF0aCkKCiAgICAgICAgcmV0dXJuIHBhdGhzCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5SZXF1ZXN0RXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyBmIkVycm9yIGZldGNoaW5nIHNpdGVtYXA6IHtlfSIpCiAgICAgICAgcmV0dXJuIHNldCgpCgpkZWYgZ2V0X3BhdGhzX3JvYm90cyh1cmwpOgogICAgcm9ib3RzX3VybCA9IHVybGpvaW4odXJsLCAnL3JvYm90cy50eHQnKQogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHJvYm90c191cmwsIHRpbWVvdXQ9MTApCiAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpCiAgICAgICAgcGF0aHMgPSBzZXQoKQogICAgICAgIGZvciBsaW5lIGluIHJlc3BvbnNlLnRleHQuc3BsaXRsaW5lcygpOgogICAgICAgICAgICBpZiBsaW5lLnN0YXJ0c3dpdGgoJ0Rpc2FsbG93OicpOgogICAgICAgICAgICAgICAgcGF0aCA9IGxpbmUuc3BsaXQoJzonKVsxXS5zdHJpcCgpCiAgICAgICAgICAgICAgICBwYXRocy5hZGQocGF0aCkKICAgICAgICByZXR1cm4gcGF0aHMKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChGb3JlLlJFRCArIGYiRXJyb3IgZmV0Y2hpbmcgcm9ib3RzLnR4dDoge2V9IikKICAgICAgICByZXR1cm4gc2V0KCkKCmRlZiBnZXRfYWxsX3BhdGhzKHVybCk6CiAgICBwcmludChGb3JlLkNZQU4gKyBTdHlsZS5CUklHSFQgKyAiXG7wn5SNIFN0YXJ0aW5nIHBhdGggZW51bWVyYXRpb24uLi5cbiIpCgogICAgcGF0aHNfaHRtbCA9IGdldF9wYXRoc19odG1sKHVybCkKICAgIHBhdGhzX3NpdGVtYXAgPSBnZXRfcGF0aHNfc2l0ZW1hcCh1cmwpCiAgICBwYXRoc19yb2JvdHMgPSBnZXRfcGF0aHNfcm9ib3RzKHVybCkKCiAgICBhbGxfcGF0aHMgPSBwYXRoc19odG1sLnVuaW9uKHBhdGhzX3NpdGVtYXApLnVuaW9uKHBhdGhzX3JvYm90cykKCiAgICBpZiBhbGxfcGF0aHM6CiAgICAgICAgcHJpbnQoRm9yZS5HUkVFTiArIFN0eWxlLkJSSUdIVCArICLinKggUGF0aHMgZm91bmQ6IikKICAgICAgICBmb3IgcGF0aCBpbiBhbGxfcGF0aHM6CiAgICAgICAgICAgIHByaW50KEZvcmUuQkxVRSArIGYiICDinqEge3BhdGh9IikKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyAi4p2MIE5vIHBhdGhzIGZvdW5kIG9uIHRoZSB3ZWJzaXRlLiIpCgpkZWYgbWFpbigpOgogICAgcHJpbnQoRm9yZS5CTFVFICsgU3R5bGUuQlJJR0hUICsgciIiIgogICAgICAgICAgICAgIF8gICBfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgfCB8IHwgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogIF8gX18gICBfXyBffCB8X3wgfF9fICAgICBfX18gXyBfXyAgXyAgIF8gXyBfXyBfX18gIAogfCAnXyBcIC8gX2AgfCBfX3wgJ18gXCAgIC8gXyBcICdfIFx8IHwgfCB8ICdfIGAgXyBcIAogfCB8XykgfCAoX3wgfCB8X3wgfCB8IHwgfCAgX18vIHwgfCB8IHxffCB8IHwgfCB8IHwgfAogfCAuX18vIFxfXyxffFxfX3xffCB8X3wgIFxfX198X3wgfF98XF9fLF98X3wgfF98IHxffAogfCB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiB8X3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICBUb29scyBieSBNci5YCiAgICAiIiIpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCgogICAgdXJsID0gaW5wdXQoRm9yZS5ZRUxMT1cgKyBTdHlsZS5CUklHSFQgKyAi8J+MkCBFbnRlciB0aGUgd2Vic2l0ZSBVUkw6ICIpLnN0cmlwKCkKCiAgICBpZiBub3QgdXJsLnN0YXJ0c3dpdGgoKCdodHRwOi8vJywgJ2h0dHBzOi8vJykpOgogICAgICAgIHVybCA9ICdodHRwOi8vJyArIHVybAoKICAgIGdldF9hbGxfcGF0aHModXJsKQoKICAgIHByaW50KEZvcmUuQ1lBTiArICJcbvCfjq8gRmluaXNoZWQuIikKICAgIHByaW50KEZvcmUuQ1lBTiArICJDcmVhdGVkIGJ5IE5haG8sIEFub25LcnlwdGlRdXosIENvZmZpbnhwIGFuZCBIZXhzaDFkb3ciKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo=').decode('utf-8'))
