# Obfuscated by Mr.X
# dont recode this kids:V
import base64
exec(base64.b64decode('aW1wb3J0IHJlcXVlc3RzCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwCmltcG9ydCByZQppbXBvcnQgbG9nZ2luZwpmcm9tIGNvbG9yYW1hIGltcG9ydCBpbml0LCBGb3JlLCBTdHlsZQoKCmluaXQoKQoKbG9nZ2luZy5iYXNpY0NvbmZpZyhsZXZlbD1sb2dnaW5nLklORk8sIGZvcm1hdD0nJShhc2N0aW1lKXMgLSAlKGxldmVsbmFtZSlzIC0gJShtZXNzYWdlKXMnKQoKY2xhc3MgV29yZFByZXNzUGx1Z2luU2Nhbm5lcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1cmwpOgogICAgICAgIHNlbGYudXJsID0gdXJsCiAgICAgICAgc2VsZi5wbHVnaW5zID0gc2V0KCkKCiAgICBkZWYgZmV0Y2hfaHRtbChzZWxmLCB1cmwpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCB0aW1lb3V0PTEwKQogICAgICAgICAgICByZXNwb25zZS5yYWlzZV9mb3Jfc3RhdHVzKCkKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQKICAgICAgICBleGNlcHQgcmVxdWVzdHMuUmVxdWVzdEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBsb2dnaW5nLmVycm9yKGYie0ZvcmUuUkVEfUVycm9yIGNvbm5lY3RpbmcgdG8ge3VybH06IHtlfXtTdHlsZS5SRVNFVF9BTEx9IikKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgY2xlYW5faHRtbChzZWxmLCBodG1sX2NvbnRlbnQpOgogICAgICAgICIiIlJlbW92ZSB1bndhbnRlZCBIVE1MIGVsZW1lbnRzIGxpa2UgY29va2llIGJhbm5lcnMuIiIiCiAgICAgICAgc291cCA9IEJlYXV0aWZ1bFNvdXAoaHRtbF9jb250ZW50LCAnaHRtbC5wYXJzZXInKQoKICAgICAgICAjIFJlbW92ZSBjb21tb24gdW53YW50ZWQgdGFncyAoZS5nLiwgY29va2llIGJhbm5lcnMsIHNjcmlwdHMsIGV0Yy4pCiAgICAgICAgZm9yIHVud2FudGVkIGluIHNvdXAoWydzY3JpcHQnLCAnc3R5bGUnLCAnbm9zY3JpcHQnLCAnaWZyYW1lJywgJ2Zvb3RlcicsICdkaXYnXSk6CiAgICAgICAgICAgIHVud2FudGVkLmRlY29tcG9zZSgpCgogICAgICAgIHJldHVybiBzdHIoc291cCkKCiAgICBkZWYgc2Nhbl9jb2RlX3NvdXJjZShzZWxmLCBodG1sX2NvbnRlbnQpOgogICAgICAgIHBsdWdpbnMgPSBzZXQoKQogICAgICAgIGlmIG5vdCBodG1sX2NvbnRlbnQ6CiAgICAgICAgICAgIHJldHVybiBwbHVnaW5zCgogICAgICAgIGh0bWxfY29udGVudCA9IHNlbGYuY2xlYW5faHRtbChodG1sX2NvbnRlbnQpICAjIENsZWFuIHVwIHRoZSBIVE1MCgogICAgICAgIHNvdXAgPSBCZWF1dGlmdWxTb3VwKGh0bWxfY29udGVudCwgJ2h0bWwucGFyc2VyJykKCiAgICAgICAgIyBMb29rIGZvciBzY3JpcHQgYW5kIGxpbmsgdGFncyB0aGF0IG1heSByZWZlcmVuY2UgcGx1Z2lucwogICAgICAgIGZvciBzY3JpcHQgaW4gc291cC5maW5kX2FsbCgnc2NyaXB0Jywgc3JjPVRydWUpOgogICAgICAgICAgICBzcmMgPSBzY3JpcHRbJ3NyYyddCiAgICAgICAgICAgIGlmICcvd3AtY29udGVudC9wbHVnaW5zLycgaW4gc3JjOgogICAgICAgICAgICAgICAgcGx1Z2luID0gcmUuc3BsaXQoJy93cC1jb250ZW50L3BsdWdpbnMvfC8nLCBzcmMpWy0yXQogICAgICAgICAgICAgICAgcGx1Z2lucy5hZGQocGx1Z2luKQoKICAgICAgICBmb3IgbGluayBpbiBzb3VwLmZpbmRfYWxsKCdsaW5rJywgaHJlZj1UcnVlKToKICAgICAgICAgICAgaHJlZiA9IGxpbmtbJ2hyZWYnXQogICAgICAgICAgICBpZiAnL3dwLWNvbnRlbnQvcGx1Z2lucy8nIGluIGhyZWY6CiAgICAgICAgICAgICAgICBwbHVnaW4gPSByZS5zcGxpdCgnL3dwLWNvbnRlbnQvcGx1Z2lucy98LycsIGhyZWYpWy0yXQogICAgICAgICAgICAgICAgcGx1Z2lucy5hZGQocGx1Z2luKQoKICAgICAgICAjIERldGVjdCBwbHVnaW5zIGZyb20gSFRNTCBjb21tZW50cwogICAgICAgIGNvbW1lbnRzID0gcmUuZmluZGFsbChyJzwhLS0uKj8tLT4nLCBodG1sX2NvbnRlbnQsIHJlLkRPVEFMTCkKICAgICAgICBmb3IgY29tbWVudCBpbiBjb21tZW50czoKICAgICAgICAgICAgaWYgJ3BsdWdpbicgaW4gY29tbWVudC5sb3dlcigpOgogICAgICAgICAgICAgICAgcGx1Z2lucy5hZGQoJ3BsdWdpbl9kZXRlY3RlZF9pbl9jb21tZW50JykKCiAgICAgICAgIyBHZW5lcmFsIHJlZ2V4IHBhdHRlcm5zIHRvIGZpbmQgcGx1Z2lucwogICAgICAgIHBhdHRlcm5zID0gWwogICAgICAgICAgICByJ3dwLWNvbnRlbnQvcGx1Z2lucy8oW14vXSspJywKICAgICAgICAgICAgcidwbHVnaW5zLyhbXi9dKyknCiAgICAgICAgXQogICAgICAgIGZvciBwYXR0ZXJuIGluIHBhdHRlcm5zOgogICAgICAgICAgICBmb3VuZF9wbHVnaW5zID0gcmUuZmluZGFsbChwYXR0ZXJuLCBodG1sX2NvbnRlbnQpCiAgICAgICAgICAgIGZvciBwbHVnaW4gaW4gZm91bmRfcGx1Z2luczoKICAgICAgICAgICAgICAgIHBsdWdpbnMuYWRkKHBsdWdpbikKCiAgICAgICAgcmV0dXJuIHBsdWdpbnMKCiAgICBkZWYgZ2V0X3BsdWdpbl92ZXJzaW9uKHNlbGYsIHBsdWdpbl9uYW1lKToKICAgICAgICAiIiJTZWFyY2ggZm9yIHBsdWdpbiB2ZXJzaW9uIGluIHJlYWRtZS50eHQsIG1haW4gLnBocCBmaWxlLCBvciB0aHJvdWdoIG1ldGEgdGFncy4iIiIKICAgICAgICB2ZXJzaW9uX3BhdHRlcm5zID0gWwogICAgICAgICAgICByJ1ZlcnNpb246XHMqKFswLTlcLl0rKScsICAjIENvbW1vbiBwbHVnaW4gdmVyc2lvbiBmb3JtYXQKICAgICAgICAgICAgcicoXGQrXC5cZCsoXC5cZCspPyknICAjIEdlbmVyYWwgdmVyc2lvbiBudW1iZXIgcGF0dGVybgogICAgICAgIF0KCiAgICAgICAgcG9zc2libGVfZmlsZXMgPSBbCiAgICAgICAgICAgIGYie3NlbGYudXJsfS93cC1jb250ZW50L3BsdWdpbnMve3BsdWdpbl9uYW1lfS9yZWFkbWUudHh0IiwKICAgICAgICAgICAgZiJ7c2VsZi51cmx9L3dwLWNvbnRlbnQvcGx1Z2lucy97cGx1Z2luX25hbWV9L3twbHVnaW5fbmFtZX0ucGhwIgogICAgICAgIF0KCiAgICAgICAgIyBUcnkgZmV0Y2hpbmcgZnJvbSBjb21tb24gcGx1Z2luIGZpbGVzIGxpa2UgcmVhZG1lLnR4dCBvciBwbHVnaW4tbmFtZS5waHAKICAgICAgICBmb3IgZmlsZV91cmwgaW4gcG9zc2libGVfZmlsZXM6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KGZpbGVfdXJsLCB0aW1lb3V0PTEwKQogICAgICAgICAgICAgICAgcmVzcG9uc2UucmFpc2VfZm9yX3N0YXR1cygpCiAgICAgICAgICAgICAgICBjb250ZW50ID0gcmVzcG9uc2UudGV4dAogICAgICAgICAgICAgICAgZm9yIHBhdHRlcm4gaW4gdmVyc2lvbl9wYXR0ZXJuczoKICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHJlLnNlYXJjaChwYXR0ZXJuLCBjb250ZW50KQogICAgICAgICAgICAgICAgICAgIGlmIG1hdGNoOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2guZ3JvdXAoMSkKICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLlJlcXVlc3RFeGNlcHRpb246CiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAjIENoZWNrIHRoZSBtYWluIEhUTUwgZm9yIHBsdWdpbiB2ZXJzaW9ucyBpbiBzY3JpcHQgb3IgbGluayB0YWdzCiAgICAgICAgbWFpbl9odG1sID0gc2VsZi5mZXRjaF9odG1sKHNlbGYudXJsKQogICAgICAgIGlmIG1haW5faHRtbDoKICAgICAgICAgICAgc291cCA9IEJlYXV0aWZ1bFNvdXAobWFpbl9odG1sLCAnaHRtbC5wYXJzZXInKQogICAgICAgICAgICBmb3IgdGFnIGluIHNvdXAuZmluZF9hbGwoWydzY3JpcHQnLCAnbGluayddLCBzcmM9VHJ1ZSwgaHJlZj1UcnVlKToKICAgICAgICAgICAgICAgIHVybCA9IHRhZy5nZXQoJ3NyYycpIG9yIHRhZy5nZXQoJ2hyZWYnKQogICAgICAgICAgICAgICAgaWYgZicvd3AtY29udGVudC9wbHVnaW5zL3twbHVnaW5fbmFtZX0nIGluIHVybDoKICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uX21hdGNoID0gcmUuc2VhcmNoKHInKFxkK1wuXGQrKFwuXGQrKT8pJywgdXJsKQogICAgICAgICAgICAgICAgICAgIGlmIHZlcnNpb25fbWF0Y2g6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uX21hdGNoLmdyb3VwKDEpCgogICAgICAgIHJldHVybiAiVW5rbm93biIKCiAgICBkZWYgZ2V0X3dvcmRwcmVzc19wbHVnaW5zKHNlbGYpOgogICAgICAgICIiIkZldGNoIGFuZCBkZXRlY3QgYWxsIHBsdWdpbnMgaW4gdXNlIG9uIHRoZSB3ZWJzaXRlLiIiIgogICAgICAgIHBsdWdpbnMgPSBzZXQoKQoKICAgICAgICAjIFRyeSBzY2FubmluZyBjb21tb24gcGF0aHMgd2hlcmUgcGx1Z2lucyBhcmUgbG9jYXRlZAogICAgICAgIHBsdWdpbnNfdXJsID0gZiJ7c2VsZi51cmx9L3dwLWNvbnRlbnQvcGx1Z2lucy8iCiAgICAgICAgaHRtbF9jb250ZW50ID0gc2VsZi5mZXRjaF9odG1sKHBsdWdpbnNfdXJsKQogICAgICAgIGlmIGh0bWxfY29udGVudDoKICAgICAgICAgICAgc291cCA9IEJlYXV0aWZ1bFNvdXAoaHRtbF9jb250ZW50LCAnaHRtbC5wYXJzZXInKQogICAgICAgICAgICBmb3IgbGluayBpbiBzb3VwLmZpbmRfYWxsKCdhJywgaHJlZj1UcnVlKToKICAgICAgICAgICAgICAgIGhyZWYgPSBsaW5rWydocmVmJ10KICAgICAgICAgICAgICAgIGlmICcvd3AtY29udGVudC9wbHVnaW5zLycgaW4gaHJlZjoKICAgICAgICAgICAgICAgICAgICBwbHVnaW4gPSBocmVmLnNwbGl0KCcvJylbLTJdCiAgICAgICAgICAgICAgICAgICAgcGx1Z2lucy5hZGQocGx1Z2luKQoKICAgICAgICAjIFNjYW4gdGhlIG1haW4gc2l0ZSBmb3IgcGx1Z2luIHJlZmVyZW5jZXMgaW4gdGhlIGNvZGUKICAgICAgICBtYWluX2h0bWxfY29udGVudCA9IHNlbGYuZmV0Y2hfaHRtbChzZWxmLnVybCkKICAgICAgICBpZiBtYWluX2h0bWxfY29udGVudDoKICAgICAgICAgICAgY29kZV9wbHVnaW5zID0gc2VsZi5zY2FuX2NvZGVfc291cmNlKG1haW5faHRtbF9jb250ZW50KQogICAgICAgICAgICBwbHVnaW5zLnVwZGF0ZShjb2RlX3BsdWdpbnMpCgogICAgICAgIHJldHVybiBzb3J0ZWQocGx1Z2lucykKCiAgICBkZWYgcHJpbnRfcGx1Z2luc193aXRoX3ZlcnNpb25zKHNlbGYpOgogICAgICAgICIiIlByaW50IGRldGVjdGVkIHBsdWdpbnMgYWxvbmcgd2l0aCB0aGVpciB2ZXJzaW9ucy4iIiIKICAgICAgICBpZiBzZWxmLnBsdWdpbnM6CiAgICAgICAgICAgIHByaW50KGYiXG57Rm9yZS5HUkVFTn09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT17U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59Rm91bmQgUGx1Z2lucyB3aXRoIFZlcnNpb25zOntTdHlsZS5SRVNFVF9BTEx9IikKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT17U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgICAgIGZvciBpLCBwbHVnaW4gaW4gZW51bWVyYXRlKHNlbGYucGx1Z2lucywgMSk6CiAgICAgICAgICAgICAgICB2ZXJzaW9uID0gc2VsZi5nZXRfcGx1Z2luX3ZlcnNpb24ocGx1Z2luKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5DWUFOfXtpfS4ge3BsdWdpbn0gLSBWZXJzaW9uOiB7dmVyc2lvbn17U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09e1N0eWxlLlJFU0VUX0FMTH0iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGYiXG57Rm9yZS5SRUR9Tm8gcGx1Z2lucyBmb3VuZC57U3R5bGUuUkVTRVRfQUxMfSIpCgpkZWYgcHJpbnRfYXNjaWlfYXJ0KCk6CiAgICAiIiJQcmludCBBU0NJSSBhcnQgZm9yIHRvb2wgYnJhbmRpbmcuIiIiCiAgICBhc2NpaV9hcnQgPSByJycnCiAgICAgICBfICAgICAgICAgICAgIF8gICAgICAgICAgICAgICAgICAgICAgICAgICBfIF8gICAgICAgICAgICAgIAogICAgICB8IHwgICAgICAgICAgIChfKSAgICAgICAgICAgICAgICAgICAgICAgICB8IChfKSAgICAgICAgICAgICAKIF8gXyAgfCB8XyAgIF8gIF9fIF8gXyBfIF9fICAgICBfXyBfIF8gX18gICBfXyBffCB8XyBfX19fX19fIF8gX18gCnwgJ18gXHwgfCB8IHwgfC8gX2AgfCB8ICdfIFwgICAvIF9gIHwgJ18gXCAvIF9gIHwgfCB8XyAgLyBfIFwgJ19ffAp8IHxfKSB8IHwgfF98IHwgKF98IHwgfCB8IHwgfCB8IChffCB8IHwgfCB8IChffCB8IHwgfC8gLyAgX18vIHwgICAKfCAuX18vfF98XF9fLF98XF9fLCB8X3xffCB8X3wgIFxfXyxffF98IHxffFxfXyxffF98Xy9fX19cX19ffF98ICAgCnwgfCAgICAgICAgICAgICBfXy8gfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCnxffCAgICAgICAgICAgIHxfX18vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBUb29scyBieSBNci5YCiAnJycKICAgIHByaW50KEZvcmUuWUVMTE9XICsgYXNjaWlfYXJ0ICsgU3R5bGUuUkVTRVRfQUxMKQoKZGVmIG1haW4oKToKICAgICIiIk1haW4gZnVuY3Rpb24gdG8gc3RhcnQgdGhlIFdvcmRQcmVzcyBwbHVnaW4gc2Nhbm5lci4iIiIKICAgIHByaW50X2FzY2lpX2FydCgpCiAgICB1cmwgPSBpbnB1dChmIntGb3JlLk1BR0VOVEF9RW50ZXIgdGhlIFdvcmRQcmVzcyBzaXRlIFVSTCB0byBzY2FuIChlLmcuLCBodHRwOi8vZXhhbXBsZS5jb20pOiB7U3R5bGUuUkVTRVRfQUxMfSIpCiAgICBpZiBub3QgdXJsLnN0YXJ0c3dpdGgoJ2h0dHAnKToKICAgICAgICB1cmwgPSAnaHR0cDovLycgKyB1cmwKCiAgICBwcmludChmIntGb3JlLllFTExPV31cblN0YXJ0aW5nIFdvcmRQcmVzcyBwbHVnaW4gc2Nhbm5lci4uLntTdHlsZS5SRVNFVF9BTEx9IikKICAgIHNjYW5uZXIgPSBXb3JkUHJlc3NQbHVnaW5TY2FubmVyKHVybCkKICAgIHBsdWdpbnMgPSBzY2FubmVyLmdldF93b3JkcHJlc3NfcGx1Z2lucygpCiAgICBzY2FubmVyLnBsdWdpbnMgPSBwbHVnaW5zCiAgICBzY2FubmVyLnByaW50X3BsdWdpbnNfd2l0aF92ZXJzaW9ucygpCiAgICBwcmludChmIntGb3JlLkdSRUVOfVxuU2NhbiBjb21wbGV0ZWQue1N0eWxlLlJFU0VUX0FMTH0iKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo=').decode('utf-8'))
